{"version":3,"sources":["components/MovieCard/MovieCard.tsx","components/MoviesList/MoviesList.tsx","components/FindMovie/FindMovie.tsx","api/api.ts","App.tsx","index.tsx"],"names":["MovieCard","props","movie","className","src","Poster","alt","Title","Plot","MoviesList","movies","map","imdbID","FindMovie","input","click","onFind","onAdd","changeInput","htmlFor","type","id","placeholder","classNames","value","onChange","onClick","API_URL","getMovie","a","fetch","response","json","Error","App","useState","setMovies","setInput","setMovie","clicked","setClicked","useEffect","fetchMovie","movieFromServer","every","film","event","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.48bb1a6f.chunk.js","sourcesContent":["import React from 'react';\nimport './MovieCard.scss';\n\ntype Props = {\n  movie: Movie | null;\n};\n\nexport const MovieCard: React.FC<Props> = (props) => {\n  const { movie } = props;\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <figure className=\"image is-4by3\">\n          <img\n            src={movie?.Poster}\n            alt=\"Film logo\"\n          />\n        </figure>\n      </div>\n      <div className=\"card-content\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <figure className=\"image is-48x48\">\n              <img\n                src=\"images/imdb-logo.jpeg\"\n                alt=\"imdb\"\n              />\n            </figure>\n          </div>\n          <div className=\"media-content\">\n            <p className=\"title is-8\">{movie?.Title}</p>\n          </div>\n        </div>\n\n        <div className=\"content\">\n          {movie?.Plot}\n          <br />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport './MoviesList.scss';\nimport { MovieCard } from '../MovieCard';\n\ninterface Props {\n  movies: (Movie | null)[];\n}\n\nexport const MoviesList: React.FC<Props> = (props) => {\n  const { movies } = props;\n\n  return (\n    <div className=\"movies\">\n      {movies.map(movie => (\n        <MovieCard\n          key={movie?.imdbID}\n          movie={movie}\n        />\n      ))}\n    </div>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport './FindMovie.scss';\n\nimport { MovieCard } from '../MovieCard';\n\ntype Props = {\n  input: string;\n  movie: Movie | null;\n  click: boolean,\n  onFind: () => void;\n  onAdd: () => void;\n  changeInput: (event: React.ChangeEvent<HTMLInputElement>) => void;\n};\n\nexport const FindMovie: React.FC<Props> = ({\n  input,\n  movie,\n  click,\n  onFind,\n  onAdd,\n  changeInput,\n}) => (\n  <>\n    <form className=\"find-movie\">\n      <div className=\"field\">\n        <label className=\"label\" htmlFor=\"movie-title\">\n          <span>Movie title</span>\n\n          <div className=\"control\">\n            <input\n              type=\"text\"\n              id=\"movie-title\"\n              placeholder=\"Enter a title to search\"\n              className={classNames(\n                'input',\n                {\n                  'is-danger': !movie?.Title && click && input !== '',\n                },\n              )}\n              value={input}\n              onChange={changeInput}\n            />\n          </div>\n        </label>\n\n        {!movie?.Title && click && (\n          <p className=\"help is-danger\">\n            Can&apos;t find a movie with such a title\n          </p>\n        )}\n      </div>\n\n      <div className=\"field is-grouped\">\n        <div className=\"control\">\n          <button\n            type=\"button\"\n            className=\"button is-light\"\n            onClick={onFind}\n          >\n            Find a movie\n          </button>\n        </div>\n\n        <div className=\"control\">\n          <button\n            type=\"button\"\n            className=\"button is-primary\"\n            onClick={onAdd}\n          >\n            Add to the list\n          </button>\n        </div>\n      </div>\n    </form>\n\n    {movie?.Title && click && (\n      <div className=\"container\">\n        <h2 className=\"title\">Preview</h2>\n        <MovieCard\n          movie={movie}\n        />\n      </div>\n    )}\n  </>\n);\n","const API_URL = 'https://www.omdbapi.com/?apikey=8ced5c19&t=';\n\nexport async function getMovie<Movie>(input: string): Promise<Movie> {\n  try {\n    const response = await fetch(`${API_URL}${input}`);\n    const movie: Movie = await response.json();\n\n    return movie;\n  } catch {\n    throw new Error('error');\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport { MoviesList } from './components/MoviesList';\nimport { FindMovie } from './components/FindMovie';\nimport { getMovie } from './api/api';\n\nexport const App: React.FC = () => {\n  const [movies, setMovies] = useState<(Movie | null)[]>([]);\n  const [input, setInput] = useState('');\n  const [movie, setMovie] = useState<Movie | null>(null);\n  const [clicked, setClicked] = useState(false);\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      const movieFromServer = await getMovie<Movie>(input);\n\n      setMovie(movieFromServer);\n    };\n\n    fetchMovie();\n  }, [input]);\n\n  const changeHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setInput(event.target.value);\n    setClicked(false);\n  };\n\n  const clickAddHandler = () => {\n    if (movies.every(film => film?.imdbID !== movie?.imdbID)) {\n      setMovies([...movies, movie]);\n      setInput('');\n      setClicked(false);\n    }\n  };\n\n  const clickFindHandler = () => {\n    setClicked(true);\n  };\n\n  return (\n    <div className=\"page\">\n      <div className=\"page-content\">\n        <MoviesList movies={movies} />\n      </div>\n      <div className=\"sidebar\">\n        <FindMovie\n          input={input}\n          movie={movie}\n          click={clicked}\n          onFind={clickFindHandler}\n          onAdd={clickAddHandler}\n          changeInput={changeHandler}\n        />\n      </div>\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport 'bulma/css/bulma.css';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}